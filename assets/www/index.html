<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <script type="text/javascript" src="js/jquery.js"></script>
        <script type="text/javascript" src="js/knockout.js"></script>
        <script type="text/javascript" src="js/handlebars.js"></script>
        <script type="text/javascript" src="js/fixture.js"></script>
        <script type="text/javascript" src="js/screens.js"></script>
        <script type="text/javascript" src="js/moment.js"></script>
        <title>Check In</title>
    </head>
    <body>
    	<div id="page">
    	</div>
    	
    	<script id="screen_locations" type="text/x-page">
    		<div id="locations">
				<div id="recordsarea">
			    	<div id="records" data-bind="foreach: location">
		        		<div class="locrecord record data" data-bind="css: { closed : status() == 'closed', checkin : status() == 'checkin', reqauth : status() == 'reqauth' }, click: $root.selectLocation">
							<div class="indicators"></div>
        					<div class="locname" data-bind="text: name"></div>
		        			<div class="locaddr" data-bind="text: address"></div>
        					<div class="dist">(<span class="disttext" data-bind="text: distance"></span>)</div>
        					<div class="ponum" data-bind="if: pos().length == 1">
								<span class="poprefix">PO:</span><span class="number" data-bind="text: pos()[0].number"></span>
        					</div>
      						<div class="rtarrow"></div>
        				</div>
				    </div>
				</div>
				<div id="heading">
			    	<div class="ibar large">
						<div class="title">What's your position?</div>
						<div class="right">
							<button class="ibtnsq"><img src="img/refresh.svg"/></button>
						</div>
					</div>
			    	<div id="search" class="silverbar">
			    		<input id="searchbox" class="prompt" value="enter PO number"/>
			    	</div>
			    	<div id="sorters">
				    	<div id="sort_by_cust" class="sortbox">sort by customer<div class="arrow"></div></div>
				    	<div id="sort_by_dist" class="sortbox">sort by distance<div class="arrow"></div></div>
				    </div>
			    </div>
			</div>
    	</script>
    	
    	<script id="screen_details" type="text/x-page">
	    	<div class="ibar">
	    		<div class="left"><button class="ibtn left" id="detail_cancel" data-bind="click: $root.cancel">Cancel</button></div>
	    		<div class="title">PO Details</div>
	    	</div>
    		<div id="details" data-bind="with: $root.currentPo">
				<div class="podata">
					<section>
						<div class="ponum"><span class="name">PO:</span><span class="value" data-bind="text: number"></span></div>
						<div class="location" data-bind="with: $root.currentLocation">
							<span class="name">Location:</span>
							<div class="value">
								<div class="locname" data-bind="text: name"></div>
								<div class="locaddr" data-bind="text: address"></div>
							</div>
						</div>
					</section>
					<section>
						<div class="servicetype"><span class="name">Contract Type:</span> <span class="value" data-bind="text: type"></span></div>
					</section>
					<section>
						<div class="section notes"><span class="name">Notes:</span> <div class="value" data-bind="text: notes"></span></div>
					</section>
				</div>
				<div class="actions">
					<div data-bind="ifnot: status">
						<button class="bigbtn green checkin" id="checkin" data-bind="click: $root.checkin">CHECK IN</button>
					</div>
				</div>
        	</div>
    	</script>
    	
    	<script id="screen_checkedin" type="text/x-page">
	    	<div class="ibar">
	    		<div class="left"><button class="ibtn left" id="detail_cancel" data-bind="click: $root.cancel">Cancel</button></div>
	    		<div class="title">Check Out</div>
	    	</div>
    		<div id="details" data-bind="with: $root.currentPo">
				<div class="podata">
					<section>
						<div class="ponum"><span class="name">PO:</span><span class="value" data-bind="text: number"></span></div>
						<div class="location" data-bind="with: $root.currentLocation">
							<span class="name">Location:</span>
							<div class="value">
								<div class="locname" data-bind="text: name"></div>
								<div class="locaddr" data-bind="text: address"></div>
							</div>
						</div>
					</section>
				</div>
				<div class="actions">
					<button class="bigbtn green jobcomplete" id="checkin" data-bind="click: $root.completeJob">CHECK OUT<br/>(job complete)</button>
					<button class="bigbtn amber requireauth" id="checkin" data-bind="click: $root.requireAuth">CHECK OUT<br/>(requires authentication)</button>
					<button class="bigbtn amber requireauth" id="checkin" data-bind="click: $root.requireAuth">CHECK OUT<br/>(follow up required)</button>
					<button class="bigbtn red contact" id="checkin" data-bind="click: $root.contactCustomerService">CUSTOMER SERVICE</button>
				</div>
        	</div>
    	</script>
    	
    	<script id="screen_polist" type="text/x-handlebars-template">
			<div data-bind="with: currentLocation">
    			<div id="polist" class="list" data-bind="foreach: pos">
					<div class="record porecord" data-bind="css: { closed : status() == 'closed', checkin : status() == 'checkin' }, click: $root.selectPo">
						<div class="po"><span class="poprefix">PO:</span> <span class="number" data-bind="text: number"></span></div>
    					<div class="type" data-bind="text: type"></div>
    					<div class="due"><span class="name">due:</span> <span class="value" data-bind="text: moment(Date(due)).format('MM/DD')"></span></div>
					</div>
    			</div>
    			<div id="heading">
		    		<div class="ibar">
    					<div class="left"><button class="ibtn left" id="polist_cancel" data-bind="click: $root.cancel">Cancel</button></div>
    					<div class="title">Select PO</div>
    				</div>
    			</div>
			</div>
    	</script>
    	
    	<script id="po_record" type="text/x-handlebars-template">
    	</script>
    	
        <script type="text/javascript" src="cordova-2.6.0.js"></script>
    	<script type="text/javascript" src="js/index.js"></script>
    </body>
</html>
